##
## Robot Composition of standard Robotis Turtlebot 3 Burger
## Author: Tavis Pitt [tavis.pitt7@gmail.com]
##

## Instructions:
## Run this file in a human shell (yours): shell_human()_me();
## Execute this file with: exec_diego({filepath_filename});

## root Instruction:
begin_instruct(robotis_turtlebot3_burger_composition);

    # Name the robot:
    find_human()_me() 
        ?
        : shell_human()_me()
            ?
            : find_human()_authority(highest)
                ? add_label(human_compositor)
                    ?
                    | shell_human(human_compositor)
                        ?
                        : exit_instruct(robotis_turtlebot3_burger_composition)_err()
                    :
                : exit_instruct(robotis_turtlebot3_burger_composition)_err()
        ;
    quest_human(human_compositor)_quest(Moniker of Robotis Turtlebot 3 Burger:)_confirm() ? exec_instruct(name_robot) : exec_instruct(retry_name_robot);

    # Add default specifications:
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_spec(maximum_translational_velocity)_value(0.22,ms);
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_spec(maximum_rotational_velocity)_value(2.84,rads)_value(162.72,degs);
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_spec(maximum_payload)_value(15,kg);
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_dim(138,178,192,mm);
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_weight(1,kg)_note(+ SBC + BAtter + Sensors);
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_spec(operating_time)_value(~2:30,hrmin);
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_spec(charging_time)_value(~2:30,hrmin);

    # Add wheel actuators
    add_actuat(left_actuator)_manufact(DYNAMIXEL)_model(XL430-W250-T);
    add_actuat(right_actuator)_manufact(DYNAMIXEL)_model(XL430-W250-T);
    add_processor(arm_cortex_m3_mcu)_manufact(arm)_model(Cortex-M3)_type(mcu)_for(left_actuator,right_actuator);
    ## with_actuat(left_actuator)_and(right_actuator)_processor(arm_cortex_m3_mcu);
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_actuat(left_actuator);
    with_robot(ðŸ’¬name_robot.robot_nameðŸ’¬)_actuat(right_actuator);

    add_sbc(sbc)_manufact(Raspberry Pi)_model(3 Model B)_for(ðŸ’¬name_robot.robot_nameðŸ’¬);
    add_processor(bcm2837)_manufact(Boradcom)_model(BCM2837)_for(Raspberry Pi);
    add_microcontrol(embedded_controller)_manufact(OpenCR)_for(ðŸ’¬name_robot.robot_nameðŸ’¬);



    # Tidy up
    del_label(human_compositor);


end_instruct(robotis_turtlebot3_burger_composition);

## Name the robot the answer passed to this instruct:
begin_instruct(name_robot);

    with_answer()_invar(robot_name);
    ## add_robot()_outvar(robot_name)_manufact(Robotis)_make(turtlebot3)_model(burger)_onceonly();
    add_robot(ðŸ’¬robot_nameðŸ’¬)_manufact(Robotis)_make(turtlebot3)_model(burger)_onceonly();

end_instruct(name_robot);

## Handle errors for 'ask_human_for_name'
begin_instruct(retry_name_robot);

    alert_err();
    ## _retry_caller()_caller()_caller();
    retry_rootcaller();
    
end_instruct




## OK, Go!
exec_instruct(robotis_turtlebot3_burger_composition)_me();





shell_human()_me();
exec_diego(/robotis_turtlebot3_burger_composition.dgo);






exec_diego({dgo_url})_me();
apt_diego({apt})_me();
apt_github()_me();
apt_datasheet(datasheet.diego_lang.com/arm_cortex_m3_mcu);
apt_ **A**dvanced **P**ackaging **T**ool